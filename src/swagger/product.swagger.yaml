paths:
  /product/register:
    post:
      tags:
        - Product
      summary: 작품 등록
      security:
        - Authorization: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                images:
                  type: string
                  format: binary
                  description: 이미지 파일들 (최대 10개) - 최소 1개는 넣어주세요!
                  required: true
                title:
                  type: string
                  format: text
                  description: 작품 제목
                  example: 작품 제목
                  required: true
                authorId:
                  type: string
                  format: text
                  description: 작가 아이디(sequence number)
                  example: 1
                  required: true
                authorNickname:
                  type: string
                  format: text
                  description: 작가 별명 (본명 X)
                  example: 닉네임
                  required: true
                delivery:
                  type: string
                  format: text
                  description: 배송 방식(0:택배, 1:직거래), 숫자만
                  example: 0
                  required: true
                price:
                  type: string
                  format: text
                  description: 가격, 숫자만
                  example: 10000
                  required: true
                details:
                  type: string
                  format: text
                  description: 상세 설명(세부 내용)
                  example: 상세 설명
                  required: true
                hashtag:
                  type: string
                  format: text
                  description: 해시태그(, 사이에 띄어쓰기 없이 보내주세요)
                  example: "#hashtag1,#hashtag2,(...)"
                  required: true
                category:
                  type: string
                  format: text
                  description: 카테고리 번호만 보내주세요(, 사이에 띄어쓰기 없이 보내주세요)
                  example: "1,2,3"
                  required: true
      responses:
        '200':
          description: 작품 등록 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: integer
                    example: 2000
                  message:
                    type: string
                    example: success!
                  result:
                    type: array
                    example: {
                      "productId": 0,
                      "title": "작품명",
                      "authorId": 1,
                      "authorNickname": "작가 닉네임",
                      "status": 0 or 1(0-판매중, 1-판매완료),
                      "price": 30000,
                      "description": "상세 설명입니다.",
                      "delivery": 1,
                      "hashtag": "#test1,#test2,#test3, (...)",
                      "image": ["imageUrl1, imageUrl2, (...)"],
                      "previewImg": "previewImgUrl",
                      "createdAt": "2024.1.28",
                      "favor": 0,
                      "category": [
                          {"카테고리 번호": "카테고리 이름"},
                          {"1": "조소"},
                          {"2": "한국화"},
                          {"7": "공예"}
                      ]
                    }
                
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 400
                  isSuccess:
                    type: boolean
                    example: false
                  code:
                    type: string
                    example: COMMON001
                  message:
                    type: string
                    example: 잘못된 요청입니다

        '500':
          description: 서버 에러
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 500
                  isSuccess:
                    type: boolean
                    example: false
                  code:
                    type: string
                    example: COMMON000
                  message:
                    type: string
                    example: 서버 에러, 관리자에게 문의 바랍니다.

  /product/{productId}:
    patch:
      tags:
        - Product
      summary: 작품 수정
      security:
        - Authorization: []
      parameters:
        - in: path
          name: productId
          required: true
          schema:
            type: integer
            description: 작품 아이디
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                images:
                  type: string
                  format: binary
                  description: 이미지 파일들 (최대 10개) - 최소 1개는 넣어주세요!
                  required: true
                title:
                  type: string
                  format: text
                  description: 작품 제목
                  example: 작품 제목
                  required: true
                delivery:
                  type: string
                  format: text
                  description: 배송 방식(0:택배, 1:직거래), 숫자만
                  example: 0
                  required: true
                price:
                  type: string
                  format: text
                  description: 가격, 숫자만
                  example: 10000
                  required: true
                details:
                  type: string
                  format: text
                  description: 상세 설명(세부 내용)
                  example: 상세 설명
                  required: true
                hashtag:
                  type: string
                  format: text
                  description: 해시태그(, 사이에 띄어쓰기 없이 보내주세요)
                  example: "#hashtag1,#hashtag2,(...)"
                  required: true
                category:
                  type: string
                  format: text
                  description: 카테고리 번호만 보내주세요(, 사이에 띄어쓰기 없이 보내주세요)
                  example: "1,2,3"
                  required: true
      responses:
        '200':
          description: 작품 수정 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: integer
                    example: 2000
                  message:
                    type: string
                    example: success!
                  result:
                    type: array
                    example: {
                      "productId": 0,
                      "title": "작품명",
                      "authorId": 1,
                      "authorNickname": "작가 닉네임",
                      "status": 0 or 1(0-판매중, 1-판매완료),
                      "price": 30000,
                      "description": "상세 설명입니다.",
                      "delivery": 1,
                      "hashtag": "#test1,#test2,#test3, (...)",
                      "image": ["imageUrl1, imageUrl2, (...)"],
                      "previewImg": "previewImgUrl",
                      "createdAt": "2024.1.28",
                      "favor": 0,
                      "category": [
                          {"카테고리 번호": "카테고리 이름"},
                          {"2": "한국화"},
                          {"7": "공예"}
                      ]
                    }
        '400':
          description: 잘못된 요청
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 400
              isSuccess:
                type: boolean
                example: false
              code:
                type: string
                example: COMMON001
              message:
                type: string
                example: 잘못된 요청입니다

        '404':
          description: db에 유저가 존재하지 않음
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: number
                    example: 404
                  message:
                    type: string
                    example: User not found
        
        '500':
          description: 서버 에러
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 500
                  isSuccess:
                    type: boolean
                    example: false
                  code:
                    type: string
                    example: COMMON000
                  message:
                    type: string
                    example: Server error
                    
    get:
      tags:
        - Product
      summary: 작품 세부 정보 조회
      parameters:
        - in: path
          name: productId
          required: true
          schema:
            type: integer
            description: 작품 아이디
      responses:
        '200':
          description: 작품 세부 정보 조회
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: integer
                    example: 2000
                  message:
                    type: string
                    example: success!
                  result:
                    type: array
                    example: {
                      "productId": 0,
                      "title": "작품명",
                      "authorId": 1,
                      "authorNickname": "작가 닉네임",
                      "status": 0 or 1(0-판매중, 1-판매완료),
                      "price": 30000,
                      "description": "상세 설명입니다.",
                      "delivery": 1,
                      "hashtag": "#test1,#test2,#test3, (...)",
                      "image": ["imageUrl1, imageUrl2, (...)"],
                      "previewImg": "previewImgUrl",
                      "createdAt": "2024.1.28",
                      "favor": 0,
                      "category": [
                          {"카테고리 번호": "카테고리 이름"},
                          {"2": "한국화"},
                          {"7": "공예"}
                      ]
                    }
                
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 400
                  isSuccess:
                    type: boolean
                    example: false
                  code:
                    type: string
                    example: COMMON001
                  message:
                    type: string
                    example: 잘못된 요청입니다

        '500':
          description: 서버 에러
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 500
                  isSuccess:
                    type: boolean
                    example: false
                  code:
                    type: string
                    example: COMMON000
                  message:
                    type: string
                    example: 서버 에러, 관리자에게 문의 바랍니다.
                    
  /product/list:
    get:
      tags:
        - Product
      summary: 작품 목록 조회
      parameters:
        - in: query
          name: cursorId
          required: false
          schema:
            type: integer
            description: 커서 아이디(다음 데이터 불러올 아이디), 작성하지 않으면 단순히 최신순으로 출력
        - in: query
          name: paging
          required: false
          schema:
            type: integer
            description: 몇 개씩 데이터 가져올지(기본은 3개씩)
        - in: query
          name: author
          required: false
          schema:
            type: integer
            description: 특정 작가(유저) 아이디 - 해당 쿼리 전달 시 특정 유저 작품 조회 리스트를 얻을 수 있습니다.
        - in: query
          name: userId
          required: false
          schema:
            type: integer
            description: 로그인 유저 아이디 - 로그인 시 좋아요 전달

      responses:
        '200':
          description: 작품 목록
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: integer
                    example: 2000
                  message:
                    type: string
                    example: "success!"
                  result:
                    type: object
                    example: {
                        "categoryData": [
                            {
                                "productId": 0,
                                "title": "제목",
                                "authorId": 1,
                                "authorNickname": "별명",
                                "image": "imgUrl",
                                "status": 1,
                                "favorStatus": 0
                            },
                            {
                                "productId": 0,
                                "title": "제목2",
                                "authorId": 1,
                                "authorNickname": "별명",
                                "image": "imgUrl",
                                "status": 0,
                                "favorStatus": 1
                            },
                            {
                                "productId": 0,
                                "title": "제목3",
                                "authorId": 1,
                                "authorNickname": "별명",
                                "image": "imgUrl",
                                "status": 1,
                                "favorStatus": 0
                            }
                        ],
                        "cursorId": 8
                    }
                
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 400
                  isSuccess:
                    type: boolean
                    example: false
                  code:
                    type: string
                    example: COMMON001
                  message:
                    type: string
                    example: 잘못된 요청입니다

        '500':
          description: 서버 에러
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 500
                  isSuccess:
                    type: boolean
                    example: false
                  code:
                    type: string
                    example: COMMON000
                  message:
                    type: string
                    example: 서버 에러, 관리자에게 문의 바랍니다.

  /product/deal:
    patch:
      tags:
        - Product
      summary: 작품 거래 상태 변경
      security:
        - Authorization: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                productId:
                  type: integer
                  description: 작품 아이디
                consumerId:
                  type: integer
                  description: 소비자(구매자) 아이디
                authorId:
                  type: integer
                  description: 작가 아이디
              required:
                - productId
                - consumerId
                - authorId
      responses:
        '200':
          description: 작품 거래 상태 변경 완료
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: integer
                    example: 2000
                  message:
                    type: string
                    example: success!
                  result:
                    type: array
                    example: {
                      "salesId": 0,
                    }
        '400':
          description: 잘못된 요청
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 400
              isSuccess:
                type: boolean
                example: false
              code:
                type: string
                example: COMMON001
              message:
                type: string
                example: 잘못된 요청입니다

        '404':
          description: db에 유저가 존재하지 않음
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: number
                    example: 404
                  message:
                    type: string
                    example: User not found
        
        '500':
          description: 서버 에러
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 500
                  isSuccess:
                    type: boolean
                    example: false
                  code:
                    type: string
                    example: COMMON000
                  message:
                    type: string
                    example: Server error
                    
  /product/search:
    get:
      tags:
        - Product
      summary: 작품 검색
      parameters:
        - in: query
          name: keyword
          required: true
          schema:
            type: string
            description: 검색 키워드
        - in: query
          name: cursorId
          required: false
          schema:
            type: integer
            description: 커서 아이디(다음 데이터 불러올 아이디), 작성하지 않으면 단순히 최신순으로 출력
        - in: query
          name: paging
          required: false
          schema:
            type: integer
            description: 몇 개씩 데이터 가져올지(기본은 3개씩)
        - in: query
          name: userId
          required: false
          schema:
            type: integer
            description: 로그인 유저 아이디 - 로그인 시 좋아요 전달
      responses:
        '200':
          description: 작품 검색 완료
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: integer
                    example: 2000
                  message:
                    type: string
                    example: success!
                  result:
                    type: array
                    example: {
                      "searchResult": [
                          {
                              "productId": 00,
                              "title": "제목",
                              "authorId": 00,
                              "authorNickname": "별명",
                              "image": "imageUrl1",
                              "hashtag": "#test1,#test2,#test3",
                              "status": 0,
                              "favorStatus": 0
                          },
                          {
                              "productId": 01,
                              "title": "제목2",
                              "authorId": 01,
                              "authorNickname": "별명2",
                              "image": "imageUrl2",
                              "hashtag": "#test1,#test2,#test3, (...)",
                              "status": 1,
                              "favorStatus": 0
                          }
                      ],
                      "cursorId": 15
                    }
        '400':
          description: 잘못된 요청
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 400
              isSuccess:
                type: boolean
                example: false
              code:
                type: string
                example: COMMON001
              message:
                type: string
                example: 잘못된 요청입니다

        '404':
          description: db에 유저가 존재하지 않음
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: number
                    example: 404
                  message:
                    type: string
                    example: User not found
        
        '500':
          description: 서버 에러
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 500
                  isSuccess:
                    type: boolean
                    example: false
                  code:
                    type: string
                    example: COMMON000
                  message:
                    type: string
                    example: Server error

  /product/category/search:
    get:
      tags:
        - Product
      summary: 카테고리 작품 검색
      parameters:
        - in: query
          name: categoryId
          required: true
          schema:
            type: integer
            description: 카테고리 아이디
        - in: query
          name: cursorId
          required: false
          schema:
            type: integer
            description: 커서 아이디(다음 데이터 불러올 아이디), 작성하지 않으면 단순히 최신순으로 출력
        - in: query
          name: paging
          required: false
          schema:
            type: integer
            description: 몇 개씩 데이터 가져올지(기본은 3개씩)
        - in: query
          name: userId
          required: false
          schema:
            type: integer
            description: 로그인 유저 아이디 - 로그인 시 좋아요 전달
      responses:
        '200':
          description: 작품 검색 완료
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 200
                  isSuccess:
                    type: boolean
                    example: true
                  code:
                    type: integer
                    example: 2000
                  message:
                    type: string
                    example: success!
                  result:
                    type: array
                    example: {
                      "searchCategoryResult": [
                          {
                              "productCategoryId": 000,
                              "productId": 000,
                              "title": "제목",
                              "authorId": 00,
                              "authorNickname": "닉네임",
                              "image": "imgUrl",
                              "status": 0,
                              "favorStatus": 0
                          },
                          (...)
                      ],
                      "cursorId": 00
                    }
        '400':
          description: 잘못된 요청
          schema:
            type: object
            properties:
              status:
                type: integer
                example: 400
              isSuccess:
                type: boolean
                example: false
              code:
                type: string
                example: COMMON001
              message:
                type: string
                example: 잘못된 요청입니다

        '404':
          description: db에 유저가 존재하지 않음
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: number
                    example: 404
                  message:
                    type: string
                    example: User not found
        
        '500':
          description: 서버 에러
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    example: 500
                  isSuccess:
                    type: boolean
                    example: false
                  code:
                    type: string
                    example: COMMON000
                  message:
                    type: string
                    example: Server error